refactor step:
    1. clean dead code
    2. extract constants(clean magic_number)
    3. rename variables and delete todo annotation